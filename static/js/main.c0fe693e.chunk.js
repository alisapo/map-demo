(this["webpackJsonpsimple-maps"]=this["webpackJsonpsimple-maps"]||[]).push([[0],{10:function(_,e,t){"use strict";t.d(e,"a",(function(){return n})),t.d(e,"c",(function(){return s})),t.d(e,"b",(function(){return r}));var n={backgroundColor:"#b1cbec",borderRadius:"3px",padding:"3px"},r={fontWeight:"bold",fontSize:"17px"},s={fontSize:"15px"}},22:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MapComponent}));var C_Users_Admin_Desktop_2_simple_maps_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(23),C_Users_Admin_Desktop_2_simple_maps_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(24),C_Users_Admin_Desktop_2_simple_maps_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(27),C_Users_Admin_Desktop_2_simple_maps_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(26),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),react_leaflet__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(55),react_leaflet__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(58),react_leaflet__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(56),react_leaflet__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(57),_PopupStyles__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(10),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(1),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__),MapComponent=function(_Component){Object(C_Users_Admin_Desktop_2_simple_maps_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__.a)(MapComponent,_Component);var _super=Object(C_Users_Admin_Desktop_2_simple_maps_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__.a)(MapComponent);function MapComponent(){var _this;return Object(C_Users_Admin_Desktop_2_simple_maps_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,MapComponent),_this=_super.call(this),_this.handleMarker=function(_){var e=_this.props.incidents.find((function(e){return e.id===_}));_this.setState({currentIncident:e,disabled:!1})},_this.handleSlider=function(buttonId){var incidents=_this.props.incidents,currentIndex=incidents.indexOf(_this.state.currentIncident),newIndex;newIndex=currentIndex===incidents.length-1?"next"===buttonId?0:currentIndex-1:currentIndex===eval(0)?"next"===buttonId?currentIndex+1:incidents.length-1:"next"===buttonId?currentIndex+1:currentIndex-1,_this.setState({currentIncident:incidents[newIndex]}),_this.markerRefs[incidents[newIndex].id].openPopup()},_this.state={lat:37.7749,lng:-122.4194,zoom:13,disabled:!0,currentIncident:null},_this.markerRefs=[],_this}return Object(C_Users_Admin_Desktop_2_simple_maps_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(MapComponent,[{key:"openPopup",value:function(_,e){_&&_.leafletElement&&_.leafletElement.openPopup(e)}},{key:"render",value:function(){var _=this;return this.props.incidents?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(react_leaflet__WEBPACK_IMPORTED_MODULE_5__.a,{center:[this.state.lat,this.state.lng],zoom:this.state.zoom,style:{width:"100%",height:"900px"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_6__.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),this.props.incidents.map((function(e){var t=[e.point.coordinates[1],e.point.coordinates[0]];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_7__.a,{eventHandlers:{click:function(){return _.handleMarker(e.id)}},position:t,ref:function(t){return _.markerRefs[e.id]=t},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(react_leaflet__WEBPACK_IMPORTED_MODULE_8__.a,{className:"popup",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{style:_PopupStyles__WEBPACK_IMPORTED_MODULE_9__.a,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{style:_PopupStyles__WEBPACK_IMPORTED_MODULE_9__.b,children:"ADDRESS:"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("span",{style:_PopupStyles__WEBPACK_IMPORTED_MODULE_9__.c,children:[e.address,", ",e.city]})]})})},e.incident_number)}))]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"slider-buttons",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{id:"prev",disabled:this.state.disabled,onClick:function(e){return _.handleSlider(e.target.id)}}),this.state.currentIncident?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"currentTag",children:["Current tag: ",this.state.currentIncident.address]}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{children:"No current tag"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{id:"next",disabled:this.state.disabled,onClick:function(e){return _.handleSlider(e.target.id)}})]})]}):"Data is loading..."}}]),MapComponent}(react__WEBPACK_IMPORTED_MODULE_4__.Component)},33:function(_,e,t){},53:function(_,e,t){},54:function(_,e,t){"use strict";t.r(e);var n=t(0),r=t.n(n),s=t(9),a=t.n(s),i=(t(33),t(5)),c=t(21),o=t.n(c),p=t(22),d=(t(53),t(1));var u=function(){var _=Object(n.useState)([]),e=Object(i.a)(_,2),t=e[0],r=e[1];return Object(n.useEffect)((function(){o.a.get("https://data.sfgov.org/resource/wr8u-xric.json",{params:{$limit:100,$$app_token:"lb1fieevDcRSzaeeamdVq9nrK"}}).then((function(_){r(_.data)})).catch((function(_){console.log(_)}))}),[]),Object(d.jsx)("div",{children:Object(d.jsx)(p.a,{incidents:t})})};a.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(u,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.c0fe693e.chunk.js.map